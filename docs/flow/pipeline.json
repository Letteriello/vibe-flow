{
  "pipeline_id": "flow-20260227-quality-gates",
  "created_at": "2026-02-27T16:00:00.000Z",
  "objective": "Quality Gates (OWASP) e Integração de Execução Determinística (Agentic-Map) - Integrar src/security e src/quality ao state-machine para criar Quality Gates determinísticos no Ralph loop, bloqueando commits que falhem no scanner OWASP. Em paralelo, implementar estrutura Agentic-Map baseada em LCM para isolamento de contexto em execuções paralelas.",
  "current_phase": "analyze",
  "status": "in_progress",
  "previous_pipeline": "flow-20260228-memory-init",
  "previous_status": "complete",
  "phases": {
    "analyze": {
      "status": "in_progress",
      "work_units": [
        {
          "id": "ANA-001",
          "scope": "security-modules",
          "description": "Analisar módulos de segurança existentes (src/security/)",
          "work_status": "pending",
          "worker": null,
          "output": null
        },
        {
          "id": "ANA-002",
          "scope": "quality-modules",
          "description": "Analisar módulos de qualidade existentes (src/quality/)",
          "work_status": "pending",
          "worker": null,
          "output": null
        },
        {
          "id": "ANA-003",
          "scope": "state-machine",
          "description": "Analisar state-machine atual e quality-gate.ts existente",
          "work_status": "pending",
          "worker": null,
          "output": null
        },
        {
          "id": "ANA-004",
          "scope": "mcp-tools",
          "description": "Analisar ferramentas MCP existentes",
          "work_status": "pending",
          "worker": null,
          "output": null
        },
        {
          "id": "ANA-005",
          "scope": "ralph-loop",
          "description": "Analisar loop Ralph e sistema wrap-up",
          "work_status": "pending",
          "worker": null,
          "output": null
        }
      ],
      "merge_status": "waiting"
    },
    "plan": {
      "status": "blocked_by:analyze",
      "work_units": [],
      "merge_status": "waiting"
    },
    "dev": {
      "status": "blocked_by:plan",
      "work_units": [],
      "merge_status": "waiting"
    },
    "qa": {
      "status": "blocked_by:dev",
      "work_units": [],
      "merge_status": "waiting"
    }
  },
  "workers": {},
  "circuit_breakers": {},
  "config": {
    "max_retries_per_unit": 3,
    "heartbeat_timeout_minutes": 30,
    "auto_advance_phases": true
  },
  "features": [
    {
      "id": "FEAT-001",
      "name": "Bloqueio via Quality Gates (OWASP)",
      "description": "Integrar src/security ao state-machine para criar Quality Gates que bloqueiem commits que falhem no scanner OWASP",
      "justificativa": "Código da IA frequentemente falha em segurança; aplicar src/security/ antes de cada commit no loop Ralph impede vulnerabilidades"
    },
    {
      "id": "FEAT-002",
      "name": "Implementação da Tool Agentic-Map",
      "description": "Criar estrutura baseada em LCM para gerenciar execuções de sub-tarefas em sessões isoladas",
      "justificativa": "Paper LCM propõe que recursão simbólica é perigosa; Agentic-Map gerencia iteração e isolamento de contexto"
    },
    {
      "id": "FEAT-003",
      "name": "Geração Automatizada de qa-report.md",
      "description": "Consolidar achados de segurança em reporte de qualidade unificado via wrap-up",
      "justificativa": "Comunidade r/ClaudeCode reforça que wrap-up deve consolidar QA em reporte unificado"
    }
  ]
}
